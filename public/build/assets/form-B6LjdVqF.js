import{r as u,j as e,a as d}from"./app-CWwYUGl9.js";import{F as f}from"./form-modal-yxY4G13h.js";import{t as b}from"./index-C44N-IkU.js";/* empty css            */import"./proxy-Cbn-Anyf.js";import"./index-CrccctHS.js";function S({isOpen:a,onClose:m,shifting:r}){const[l,n]=u.useState(!1),[t,i]=u.useState({name:"",start_hour:"07:00",end_hour:"12:00"});u.useEffect(()=>{a&&r&&!l?(i({name:r.name,start_hour:r.start_hour,end_hour:r.end_hour}),n(!0)):a&&!r&&!l&&(i({name:"",start_hour:"",end_hour:""}),n(!0))},[r,a,l]),u.useEffect(()=>{a||n(!1)},[a]);const c=h=>{const{name:s,value:o}=h.target;i(p=>({...p,[s]:o}))},x=h=>{h.preventDefault(),r!=null&&r.id?d.put(`/shiftings/${r.id}`,{...t},{preserveScroll:!0,onSuccess:()=>{m(),d.reload()},onError:s=>{const o=Object.values(s).join(`
`);b.error(`Gagal memperbarui shifting: ${o}`)}}):d.post("/shiftings",{...t},{preserveScroll:!0,onSuccess:()=>{m(),d.reload()},onError:s=>{const o=Object.values(s).join(`
`);b.error(`Gagal menambahkan shifting baru: ${o}`)}})};return e.jsxs(f,{isOpen:a,onClose:m,title:r?"Edit Shift":"Tambah Shift Baru",onSubmit:x,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Shift"}),e.jsx("input",{id:"name",name:"name",type:"text",maxLength:70,value:t.name,onChange:c,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm",required:!0})]}),e.jsxs("div",{className:"mb-3 flex flex-row justify-between gap-4",children:[e.jsxs("div",{className:"basis-1/2",children:[e.jsx("label",{htmlFor:"start_hour",className:"block text-sm font-medium text-gray-700",children:"Waktu Mulai"}),e.jsx("input",{id:"start_hour",name:"start_hour",type:"time",value:t.start_hour,onChange:c,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm",required:!0})]}),e.jsxs("div",{className:"basis-1/2",children:[e.jsx("label",{htmlFor:"end_hour",className:"block text-sm font-medium text-gray-700",children:"Waktu Selesai"}),e.jsx("input",{id:"end_hour",name:"end_hour",type:"time",value:t.end_hour,onChange:c,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:m,className:"mr-2 rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:cursor-pointer hover:bg-gray-50",children:"Batal"}),e.jsx("button",{type:"submit",className:"rounded rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:cursor-pointer hover:bg-blue-700",children:r?"Ubah":"Simpan"})]})]})}export{S as default};
