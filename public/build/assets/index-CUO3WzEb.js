import{u as x,r as i,j as e,H as D,a as l}from"./app-Cy_yH0cU.js";import{A as C}from"./action-modal-D7a2zBwj.js";import{P as N}from"./pagination-CO31XPpK.js";import{T as v}from"./table-5ZPF6f2C.js";import{A as H}from"./app-layout-Z_0Lpuly.js";import{t as h,T as A}from"./index-BBS2l-Ku.js";import T from"./form-BXeuL2eW.js";/* empty css            */import"./proxy-Be2USTox.js";import"./createLucideIcon-Cy4IV-AB.js";import"./button-Bs7TbKwX.js";import"./index-BZR7NyXe.js";import"./index-CXWTTp-_.js";import"./index-6lxvuY0S.js";import"./app-logo-icon-DPckmXBf.js";import"./form-modal-DlPhrQnQ.js";const L=[{title:"Hari Libur",href:"/custom-day-offs"}];function G(){const{customDayOffs:c,filters:a}=x().props,{flash:s}=x().props;i.useEffect(()=>{s!=null&&s.success&&h.success(s.success),s!=null&&s.error&&h.error(s.error)},[s]);const[f,d]=i.useState(!1),[b,g]=i.useState(null),[u,p]=i.useState([]),[r,n]=i.useState(null),m=(t=null)=>{g(t),d(!0)},j=async t=>{l.delete(`/custom-day-offs/${t}`,{onSuccess:()=>l.reload()})},y=t=>{p(o=>o.includes(t)?o.filter(S=>S!==t):[...o,t])},k=t=>{l.get(route("custom-day-offs.index"),{sort:t,direction:a.direction==="asc"?"desc":"asc"},{preserveState:!0})},w=[{key:"date",label:"Tanggal",sortable:!0},{key:"description",label:"Nama Hari Libur",sortable:!0},{key:"actions",label:"Aksi",sortable:!1}];return e.jsxs(H,{breadcrumbs:L,children:[e.jsx(D,{title:"Hari Libur"}),e.jsx(A,{position:"top-right",richColors:!0}),e.jsxs("div",{className:"flex flex-col gap-6 rounded-xl bg-white p-6 text-black shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2 md:gap-2 gap-1 overflow-x-auto pb-2",style:{minWidth:600,maxWidth:"100%",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch"},children:e.jsx("input",{type:"text",placeholder:"Cari hari libur...",defaultValue:a.search||"",onChange:t=>l.get(route("custom-day-offs.index"),{search:t.target.value},{preserveState:!0}),className:"w-64 rounded border px-3 py-1 text-sm"})}),e.jsx("button",{onClick:()=>m(null),className:"rounded bg-green-600 px-3 py-1 text-sm font-medium text-white transition hover:cursor-pointer hover:bg-green-700 whitespace-nowrap",children:"Tambah Hari Libur"})]}),e.jsx(v,{headers:w,data:c.data,sortColumn:a.sort??"",sortDirection:a.direction==="asc"||a.direction==="desc"?a.direction:"asc",onSort:k,onSelectAll:t=>p(t?c.data.map(o=>o.id):[]),selectedIds:u,rowRender:t=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"w-[10px] p-3 text-sm",children:e.jsx("input",{type:"checkbox",checked:u.includes(t.id),onChange:()=>y(t.id)})}),e.jsx("td",{className:"p-3 text-sm",children:new Date(t.date).toLocaleDateString("id-ID")}),e.jsx("td",{className:"p-3 text-sm",children:t.description}),e.jsxs("td",{className:"flex gap-2 p-3",children:[e.jsx("button",{onClick:()=>m(t),className:"rounded bg-blue-500 px-3 py-1 text-sm font-medium text-white hover:cursor-pointer",children:"Edit"}),e.jsx("button",{onClick:()=>n(t),className:"rounded bg-red-500 px-3 py-1 text-sm font-medium text-white hover:cursor-pointer",children:"Hapus"})]})]},t.id)}),e.jsx(N,{links:c.links}),e.jsx(T,{isOpen:f,onClose:()=>d(!1),dayOff:b}),e.jsx(C,{isOpen:!!r,onClose:()=>n(null),title:"Konfirmasi Penghapusan",message:e.jsxs("span",{children:["Apakah Anda yakin ingin menghapus hari libur pada tanggal"," ",e.jsx("strong",{children:r?new Date(r.date).toLocaleDateString("id-ID"):""}),"?"]}),buttons:[{label:"Batal",onClick:()=>n(null),variant:"neutral"},{label:"Ya, Hapus",onClick:()=>{r&&(j(r.id),n(null))},variant:"danger"}]})]})]})}export{G as default};
