import{r as l,j as t,a as v}from"./app-QVzHiFNf.js";import{F as S}from"./form-modal-BVoXfAXy.js";import{t as x}from"./index-BCERemwb.js";/* empty css            */import"./proxy-BNPyqRU3.js";import"./index-CQxeSFAl.js";function L({isOpen:n,onClose:m,dayOff:e}){const[c,u]=l.useState({date:"",description:""}),[s,o]=l.useState({}),[a,d]=l.useState(!1);l.useEffect(()=>{n&&(o({}),d(!1),u(e?{date:e.date,description:e.description}:{date:"",description:""}))},[n,e]);const h=(r,p)=>{u(i=>({...i,[r]:p})),s[r]&&o(i=>({...i,[r]:""}))},g=r=>{r.preventDefault(),o({}),d(!0);const p={...c,_method:e!=null&&e.id?"PUT":"POST"},i=e!=null&&e.id?`/custom-day-offs/${e.id}`:"/custom-day-offs";v.post(i,p,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d(!1),m()},onError:b=>{if(d(!1),typeof b=="object"){o(b);const j=Object.values(b).join(`
`);x.error(`Validasi gagal:
${j}`)}else x.error("Terjadi kesalahan tidak diketahui")}})};return t.jsxs(S,{isOpen:n,onClose:m,title:e?"Edit Hari Libur":"Tambah Hari Libur",onSubmit:g,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Tanggal*"}),t.jsx("input",{id:"date",name:"date",type:"date",value:c.date,min:new Date().toISOString().split("T")[0],onChange:r=>h("date",r.target.value),className:`mt-1 block w-full rounded-md border ${s.date?"border-red-500":"border-gray-300"} p-2 shadow-sm`,required:!0,disabled:a}),s.date&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.date})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Nama Hari Libur*"}),t.jsx("input",{id:"description",name:"description",type:"text",maxLength:70,value:c.description,onChange:r=>h("description",r.target.value),className:`mt-1 block w-full rounded-md border ${s.description?"border-red-500":"border-gray-300"} p-2 shadow-sm`,required:!0,disabled:a,placeholder:"Contoh: Libur Hari Raya Idul Fitri, Libur Nasional, dll."}),s.description&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.description})]}),t.jsxs("div",{className:"flex justify-end",children:[t.jsx("button",{type:"button",onClick:m,className:"mr-2 rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:cursor-pointer hover:bg-gray-50 disabled:opacity-50",disabled:a,children:"Batal"}),t.jsx("button",{type:"submit",className:"rounded rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:cursor-pointer hover:bg-blue-700 disabled:opacity-50",disabled:a,children:a?"Memproses...":e?"Ubah":"Simpan"})]})]})}export{L as default};
