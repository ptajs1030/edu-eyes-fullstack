import{r as n,j as e,a as c}from"./app-CRhh2Pn9.js";import{F as g}from"./form-modal-SD44dMMF.js";import{t as f}from"./index-Bc9lomt1.js";/* empty css            */import"./proxy-4ymfp_xn.js";import"./index-ukDarBtn.js";function w({isOpen:s,onClose:i,subject:a}){const[d,u]=n.useState(!1),[l,o]=n.useState({name:"",curriculum_year:"",is_archived:!1});n.useEffect(()=>{s&&a&&!d?(o({name:a.name,curriculum_year:a.curriculum_year,is_archived:a.is_archived}),u(!0)):s&&!a&&!d&&(o({name:"",curriculum_year:"",is_archived:!1}),u(!0))},[a,s,d]),n.useEffect(()=>{s||u(!1)},[s]);const x=m=>{const{name:r,value:t}=m.target;o(h=>({...h,[r]:t}))},b=m=>{const{name:r,checked:t}=m.target;o(h=>({...h,[r]:t}))},p=m=>{m.preventDefault(),a!=null&&a.id?c.put(`/subjects/${a.id}`,{...l},{preserveScroll:!0,onSuccess:()=>{i(),c.reload()},onError:r=>{const t=Object.values(r).join(`
`);f.error(`Gagal memperbarui mata pelajaran: ${t}`)}}):c.post("/subjects",{...l},{preserveScroll:!0,onSuccess:()=>{i(),c.reload()},onError:r=>{const t=Object.values(r).join(`
`);f.error(`Gagal menambahkan mata pelajaran baru: ${t}`)}})};return e.jsxs(g,{isOpen:s,onClose:i,title:a?"Edit Mata Pelajaran":"Tambah Mata Pelajaran",onSubmit:p,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama"}),e.jsx("input",{id:"name",name:"name",type:"text",maxLength:70,value:l.name,onChange:x,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"curriculum_year",className:"block text-sm font-medium text-gray-700",children:"Nama Kurikulum"}),e.jsx("input",{id:"curriculum_year",name:"curriculum_year",type:"text",maxLength:70,value:l.curriculum_year,onChange:x,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm",required:!0})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-5 items-center",children:e.jsx("input",{type:"checkbox",id:"is_archived",name:"is_archived",checked:l.is_archived,onChange:b,className:"h-4 w-4 rounded border-gray-300 text-blue-600 transition-all focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 focus:ring-offset-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Archive this subject"}),e.jsx("span",{className:"mt-0.5 block text-xs text-gray-500",children:"Archived subjects will be hidden from default views but remain accessible"})]})]})}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:i,className:"mr-2 rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:cursor-pointer hover:bg-gray-50",children:"Batal"}),e.jsx("button",{type:"submit",className:"rounded rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:cursor-pointer hover:bg-blue-700",children:a?"Ubah":"Simpan"})]})]})}export{w as default};
