import{r as d,j as t,a as o}from"./app-BBgxHzmc.js";import{F as b}from"./form-modal-DVyCTFVm.js";import{t as c}from"./index-Brf1zjtI.js";/* empty css            */import"./proxy-tHNq1XT9.js";import"./index-BfdFR44v.js";function y({isOpen:l,onClose:s,role:e}){const[u,m]=d.useState({name:""});d.useEffect(()=>{m(e?{id:e.id,name:e.name}:{name:""})},[e]);const p=(a,n)=>{m(r=>({...r,[a]:n}))},x=a=>{a.preventDefault();const n={...u,_method:e!=null&&e.id?"PUT":"POST"};e!=null&&e.id?o.post(`/roles/${e.id}`,n,{preserveScroll:!0,onSuccess:()=>{s(),o.reload()},onError:r=>{const i=Object.values(r).join(`
`);c.error(`Gagal memperbarui role: ${i}`)}}):o.post("/roles",n,{preserveScroll:!0,onSuccess:()=>{s(),o.reload()},onError:r=>{const i=Object.values(r).join(`
`);c.error(`Gagal menambahkan role baru: ${i}`)}})};return t.jsxs(b,{isOpen:l,onClose:s,title:e?"Edit Role":"Add New Role",onSubmit:x,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Role Name"}),t.jsx("input",{id:"name",name:"name",type:"text",maxLength:70,value:u.name,onChange:a=>p("name",a.target.value),className:"w-full rounded border p-2",required:!0})]}),t.jsxs("div",{className:"flex justify-end",children:[t.jsx("button",{type:"button",onClick:s,className:"mr-2 rounded bg-gray-500 px-4 py-2 text-white hover:cursor-pointer",children:"Batal"}),t.jsx("button",{type:"submit",className:"rounded bg-blue-600 px-4 py-2 text-white hover:cursor-pointer",children:e?"Ubah":"Simpan"})]})]})}export{y as default};
