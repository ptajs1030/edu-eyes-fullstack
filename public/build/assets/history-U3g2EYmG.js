import{j as e,H as b,a as n}from"./app-BeCyjbzU.js";import{T as p}from"./table-DLNryz3M.js";import{A as u}from"./app-layout-DcP7GnsP.js";/* empty css            */import"./app-logo-icon-LSMy-X9F.js";import"./button-BEK5hkam.js";import"./index-BEtZMnes.js";import"./index-BBjrAkwY.js";import"./index-Cn4ZBZ8K.js";const g=(a,r)=>[{title:"Kelas",href:"/classrooms"},{title:a,href:`/classrooms/${r}`},{title:"Riwayat",href:""}];function T({classroom:a,academicYears:r,selectedAcademicYear:l,students:d,studentCount:m,filters:t}){const c=s=>{n.get(route("classrooms.history",a.id),{academic_year:s.target.value,sort:t.sort,direction:t.direction})},x=s=>{n.get(route("classrooms.history",a.id),{academic_year:l==null?void 0:l.id,sort:s,direction:t.direction==="asc"?"desc":"asc"})};return e.jsxs(u,{breadcrumbs:g(a.name,a.id),children:[e.jsx(b,{title:`Riwayat - ${a.name}`}),e.jsxs("div",{className:"flex flex-col gap-6 rounded-xl bg-white p-6 text-black shadow-lg",children:[e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Classroom History"}),e.jsxs("div",{className:"grid w-2/5 grid-cols-1 gap-5 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-gray-500",children:"Nama Kelas"}),e.jsx("p",{className:"font-semibold",children:a.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-gray-500",children:"Level"}),e.jsx("p",{className:"font-semibold",children:a.level})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-gray-500",children:"Number of Students"}),e.jsxs("p",{className:"font-semibold",children:[m," students"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-500",children:"Tahun Akademik"}),e.jsx("select",{value:(l==null?void 0:l.id)||"",onChange:c,className:"w-full rounded border border-gray-300 bg-gray-50 p-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:r.map(s=>e.jsxs("option",{value:s.id,children:[s.title," (",s.start_year,")"]},s.id))})]})]})]}),e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Siswa"}),e.jsx(p,{headers:[{key:"no",label:"No.",sortable:!1},{key:"full_name",label:"Nama",sortable:!1},{key:"age",label:"Usia",sortable:!1},{key:"parent",label:"Nama Orang Tua",sortable:!1},{key:"phone",label:"Telepon Orang Tua",sortable:!1},{key:"actions",label:"Aksi",sortable:!1}],data:d,sortColumn:t.sort??"",sortDirection:t.direction==="asc"||t.direction==="desc"?t.direction:"asc",onSort:x,emptyMessage:"No students found for selected academic year",rowRender:(s,h)=>{var o,i;return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"p-3 text-sm",children:[h+1,"."]}),e.jsx("td",{className:"p-3 text-sm",children:s.full_name}),e.jsx("td",{className:"p-3 text-sm",children:s.age??"-"}),e.jsx("td",{className:"p-3 text-sm",children:((o=s.parent)==null?void 0:o.full_name)||"-"}),e.jsx("td",{className:"p-3 text-sm",children:((i=s.parent)==null?void 0:i.phone)||"-"}),e.jsx("td",{className:"p-3",children:e.jsx("button",{className:"rounded bg-blue-500 px-3 py-1 text-sm text-white hover:cursor-pointer",onClick:()=>{console.log("View student detail:",s.id)},children:"Student Detail"})})]},s.id)}})]})]})]})}export{T as default};
