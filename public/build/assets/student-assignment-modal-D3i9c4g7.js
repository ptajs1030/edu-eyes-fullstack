<<<<<<<< HEAD:public/build/assets/student-assignment-modal-B_vhlJtx.js
import{r as c,j as s}from"./app-B60Ir9-g.js";function C({isOpen:h,onClose:u,onSubmit:g,classrooms:b,assignedStudentIds:o}){const[d,f]=c.useState(""),[n,m]=c.useState([]),[t,i]=c.useState([]),[p,x]=c.useState(!1);c.useEffect(()=>{d?(x(!0),fetch(`/classrooms/${d}/students`).then(e=>e.json()).then(e=>{m(e.students||[]),i([])}).catch(e=>{console.error("Error fetching students:",e),m([])}).finally(()=>{x(!1)})):(m([]),i([]))},[d]);const j=e=>{f(e)},y=e=>{if(e){const l=n.filter(a=>!o.includes(a.id)).map(a=>a.id);i(l)}else i([])},v=(e,l)=>{i(l?[...t,e]:t.filter(a=>a!==e))},N=()=>{const e=n.filter(l=>t.includes(l.id)).map(l=>({student_id:l.id,student_name:l.full_name,nis:l.nis,class_name:l.classroom.name,class_id:l.classroom.id}));g(e)},r=n.filter(e=>!o.includes(e.id)),S=r.length>0&&r.every(e=>t.includes(e.id));return h?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white p-6 shadow-xl max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pilih Siswa"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pilih kelas terlebih dahulu, kemudian pilih siswa yang akan di-assign ke exam"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Kelas"}),s.jsxs("select",{value:d,onChange:e=>j(e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"-- Pilih Kelas --"}),b.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),d&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"PILIH SISWA"}),r.length>0&&s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:S,onChange:e=>y(e.target.checked),className:"rounded border-gray-300"}),"Check All"]})]}),p?s.jsx("div",{className:"py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Loading students..."})}):n.length===0?s.jsx("div",{className:"py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Tidak ada siswa di kelas ini"})}):r.length===0?s.jsx("div",{className:"py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Semua siswa di kelas ini sudah di-assign"})}):s.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:n.map(e=>{const l=o.includes(e.id),a=t.includes(e.id);return s.jsxs("div",{className:`flex items-center gap-3 p-3 border-b last:border-b-0 ${l?"bg-gray-100":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"checkbox",checked:a,disabled:l,onChange:k=>v(e.id,k.target.checked),className:"rounded border-gray-300 disabled:cursor-not-allowed"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:`text-sm font-medium ${l?"text-gray-500":"text-gray-900"}`,children:[e.full_name," (",e.nis,")"]})})]},e.id)})})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:u,className:"rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:N,disabled:t.length===0,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit"})]})]})}):null}export{C as S};
========
import{r as c,j as s}from"./app-DCoWf3XM.js";function C({isOpen:h,onClose:u,onSubmit:g,classrooms:b,assignedStudentIds:o}){const[d,f]=c.useState(""),[n,m]=c.useState([]),[t,i]=c.useState([]),[p,x]=c.useState(!1);c.useEffect(()=>{d?(x(!0),fetch(`/classrooms/${d}/students`).then(e=>e.json()).then(e=>{m(e.students||[]),i([])}).catch(e=>{console.error("Error fetching students:",e),m([])}).finally(()=>{x(!1)})):(m([]),i([]))},[d]);const j=e=>{f(e)},y=e=>{if(e){const l=n.filter(a=>!o.includes(a.id)).map(a=>a.id);i(l)}else i([])},v=(e,l)=>{i(l?[...t,e]:t.filter(a=>a!==e))},N=()=>{const e=n.filter(l=>t.includes(l.id)).map(l=>({student_id:l.id,student_name:l.full_name,nis:l.nis,class_name:l.classroom.name,class_id:l.classroom.id}));g(e)},r=n.filter(e=>!o.includes(e.id)),S=r.length>0&&r.every(e=>t.includes(e.id));return h?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white p-6 shadow-xl max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pilih Siswa"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pilih kelas terlebih dahulu, kemudian pilih siswa yang akan di-assign ke exam"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Kelas"}),s.jsxs("select",{value:d,onChange:e=>j(e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"-- Pilih Kelas --"}),b.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),d&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"PILIH SISWA"}),r.length>0&&s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:S,onChange:e=>y(e.target.checked),className:"rounded border-gray-300"}),"Check All"]})]}),p?s.jsx("div",{className:"py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Loading students..."})}):n.length===0?s.jsx("div",{className:"py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Tidak ada siswa di kelas ini"})}):r.length===0?s.jsx("div",{className:"py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Semua siswa di kelas ini sudah di-assign"})}):s.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:n.map(e=>{const l=o.includes(e.id),a=t.includes(e.id);return s.jsxs("div",{className:`flex items-center gap-3 p-3 border-b last:border-b-0 ${l?"bg-gray-100":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"checkbox",checked:a,disabled:l,onChange:k=>v(e.id,k.target.checked),className:"rounded border-gray-300 disabled:cursor-not-allowed"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:`text-sm font-medium ${l?"text-gray-500":"text-gray-900"}`,children:[e.full_name," (",e.nis,")"]})})]},e.id)})})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:u,className:"rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:N,disabled:t.length===0,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit"})]})]})}):null}export{C as S};
>>>>>>>> main:public/build/assets/student-assignment-modal-D3i9c4g7.js
