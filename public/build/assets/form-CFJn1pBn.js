import{r as u,j as t,a as n}from"./app-BB7z6Bk-.js";import{F as h}from"./form-modal-BTBIYylU.js";import{t as c}from"./index-By-C57HR.js";/* empty css            */import"./proxy-B4UvXTL_.js";import"./index-OL4WWf7U.js";function N({isOpen:l,onClose:s,role:e}){const[m,i]=u.useState({name:""});u.useEffect(()=>{i(e?{id:e.id,name:e.name}:{name:""})},[e]);const p=(r,o)=>{i(a=>({...a,[r]:o}))},x=r=>{r.preventDefault();const o={...m,_method:e!=null&&e.id?"PUT":"POST"};e!=null&&e.id?n.post(`/roles/${e.id}`,o,{preserveScroll:!0,onSuccess:()=>{s(),n.reload()},onError:a=>{const d=Object.values(a).join(`
`);c.error(`Failed to update role: ${d}`)}}):n.post("/roles",o,{preserveScroll:!0,onSuccess:()=>{s(),n.reload()},onError:a=>{const d=Object.values(a).join(`
`);c.error(`Failed to add new role: ${d}`)}})};return t.jsxs(h,{isOpen:l,onClose:s,title:e?"Edit Role":"Add New Role",onSubmit:x,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Role Name"}),t.jsx("input",{id:"name",name:"name",type:"text",value:m.name,onChange:r=>p("name",r.target.value),className:"w-full rounded border p-2",required:!0})]}),t.jsxs("div",{className:"flex justify-end",children:[t.jsx("button",{type:"button",onClick:s,className:"mr-2 rounded bg-gray-500 px-4 py-2 text-white hover:cursor-pointer",children:"Cancel"}),t.jsx("button",{type:"submit",className:"rounded bg-blue-600 px-4 py-2 text-white hover:cursor-pointer",children:e?"Update":"Create"})]})]})}export{N as default};
