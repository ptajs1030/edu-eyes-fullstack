import{r as a,j as e,H as v,L as w,a as N}from"./app-C2s5c851.js";import{R as k}from"./rich-text-editor-DSXY59La.js";import{A as S}from"./app-layout-Cp8PaG9N.js";import{T as C,t as b}from"./index-DvE58iS3.js";/* empty css            */import"./button-Cv_e_Y_6.js";import"./index-Co_SPhEm.js";import"./index-C2H2px7a.js";import"./index-D1ahFS_l.js";import"./createLucideIcon-CEDR9mNJ.js";import"./app-logo-icon-BFSv2TpD.js";const A=r=>[{title:"Pengumuman",href:"/announcements"},{title:r,href:""}];function D({announcement:r}){const[i,h]=a.useState(r.title),[m,f]=a.useState(r.short_content),[u,x]=a.useState(r.content),[o,l]=a.useState(r.attachments),[d,c]=a.useState(!1),p=()=>{l([...o,{url:""}])},g=t=>{const s=[...o];s.splice(t,1),l(s)},j=(t,s)=>{const n=[...o];n[t].url=s,l(n)},y=t=>{t.preventDefault(),c(!0),N.put(`/announcements/${r.id}`,{title:i,short_content:m,content:u,attachments:o},{onSuccess:()=>{b.success("Pengumuman berhasil diperbarui")},onError:s=>{Object.values(s).forEach(n=>{b.error(n)})},onFinish:()=>{c(!1)}})};return e.jsxs(S,{breadcrumbs:A(r.title),children:[e.jsx(v,{title:"Edit Pengumuman"}),e.jsx(C,{position:"top-right",richColors:!0}),e.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-lg",children:[e.jsx("h1",{className:"mb-6 text-xl font-bold",children:"Edit Pengumuman"}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Judul"}),e.jsx("input",{type:"text",id:"title",value:i,onChange:t=>h(t.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"short_content",className:"block text-sm font-medium text-gray-700",children:"Ringkasan"}),e.jsx("textarea",{id:"short_content",value:m,onChange:t=>f(t.target.value),rows:3,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:["Konten ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(k,{value:u,onChange:x,placeholder:"Ketik konten pengumuman di sini..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Lampiran"}),o.map((t,s)=>e.jsxs("div",{className:"mb-2 flex items-center",children:[e.jsx("input",{type:"url",value:t.url,onChange:n=>j(s,n.target.value),placeholder:"https://example.com/file.pdf",className:"block w-full flex-1 rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),e.jsx("button",{type:"button",onClick:()=>g(s),className:"ml-2 inline-flex items-center rounded-md border border-transparent bg-red-100 px-3 py-2 text-sm leading-4 font-medium text-red-700 hover:bg-red-200 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:outline-none",children:"Hapus"})]},s)),e.jsx("button",{type:"button",onClick:p,className:"mt-2 inline-flex items-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",children:"Tambah Lampiran"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(w,{href:"/announcements",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",children:"Batal"}),e.jsx("button",{type:"submit",disabled:d,className:"inline-flex items-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none disabled:opacity-50",children:d?"Menyimpan...":"Simpan Perubahan"})]})]})]})]})}export{D as default};
