import{r as m,j as e,a as n}from"./app-DGEpaMO1.js";import{F as p}from"./form-modal-D70VI4Fh.js";import{t as b}from"./index-BcnpcCLW.js";import"./proxy-JgGNu-as.js";import"./index-d5u58xBD.js";function k({isOpen:c,onClose:a,setting:r}){const[t,o]=m.useState({key:"",value:""});m.useEffect(()=>{o(r?{key:r.key,value:r.value}:{key:"",value:""})},[r]);const i=s=>{const{name:l,value:d}=s.target;o(u=>({...u,[l]:d}))},x=s=>{if(s.preventDefault(),!(r!=null&&r.id)){a();return}const l={...t,_method:"PUT"};n.post(`/school-settings/${r.id}`,l,{preserveScroll:!0,onSuccess:()=>{a(),n.reload()},onError:d=>{const u=Object.values(d).join(`
`);b.error(`Failed to update setting: ${u}`)}})};return e.jsxs(p,{isOpen:c,onClose:a,title:"Edit Pengaturan",onSubmit:x,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"key",className:"block text-sm font-medium text-gray-700",children:"Key"}),e.jsx("input",{id:"key",name:"key",type:"text",value:t.key,readOnly:!0,className:"w-full rounded border bg-gray-100 p-2"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"value",className:"block text-sm font-medium text-gray-700",children:"Value"}),e.jsx("textarea",{id:"value",name:"value",value:t.value,onChange:i,className:"w-full rounded border p-2",required:!0,rows:5})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:a,className:"mr-2 rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:cursor-pointer hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:cursor-pointer hover:bg-blue-700",children:"Update"})]})]})}export{k as default};
