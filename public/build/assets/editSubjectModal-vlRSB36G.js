import{r as n,j as e}from"./app-BbluYI2S.js";import{F as h}from"./form-modal-CfPSo42Y.js";import{S as f}from"./searchable-select-K5jJYqJj.js";import{s as p}from"./constants-B8--eSm4.js";import{f as g,p as j}from"./parseISO-C9VBp7jN.js";/* empty css            */import"./proxy-Df1lPe4n.js";const C=({attendance:s,dayOffOptions:d,onClose:i,onSubmit:b})=>{var u;const[t,m]=n.useState(s||{});n.useEffect(()=>{s&&m({...s})},[s]);const c=a=>{const r=d.find(l=>l.id===parseInt(a));m(l=>({...l,day_off_reason:r==null?void 0:r.description}))},o=(a,r)=>{m(l=>({...l,[a]:r}))},x=a=>{a.preventDefault(),b(t)};return s?e.jsxs(h,{isOpen:!0,onClose:i,title:"Ubah Data Kehadiran",onSubmit:x,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tanggal"}),e.jsx("input",{type:"text",value:s.submit_date?g(j(s.submit_date),"dd MMM yyyy"):"",disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-100 p-2 shadow-sm"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mata Pelajaran"}),e.jsx("input",{type:"text",value:s.subject_name,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-100 p-2 shadow-sm"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Waktu Pelajaran"}),e.jsx("input",{type:"text",value:`${s.subject_start_hour_formatted} - ${s.subject_end_hour_formatted}`,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-100 p-2 shadow-sm"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jam Absen"}),e.jsx("input",{type:"time",value:t.submit_hour_formatted||"",onChange:a=>o("submit_hour_formatted",a.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("select",{value:t.status||"",onChange:a=>o("status",a.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm",children:p.subject.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),t.status==="day_off"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Alasan Libur"}),e.jsx(f,{value:((u=t.day_off_reason)==null?void 0:u.toString())||"",onChange:c,placeholder:"Pilih alasan...",endpoint:route("dayOff.search"),initialOptions:d.map(a=>({id:a.id,full_name:a.description})),showInitialOptions:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catatan"}),e.jsx("textarea",{value:t.note||"",onChange:a=>o("note",a.target.value),rows:3,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm"})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:i,className:"mr-2 rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:cursor-pointer hover:bg-gray-50",children:"Batal"}),e.jsx("button",{type:"submit",className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:cursor-pointer hover:bg-blue-700",children:"Simpan"})]})]}):null};export{C as default};
