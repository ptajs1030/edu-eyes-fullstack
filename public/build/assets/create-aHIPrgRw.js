import{r as o,j as e,H as y,L as v,a as N}from"./app-C2s5c851.js";import{R as w}from"./rich-text-editor-DSXY59La.js";import{A as k}from"./app-layout-Cp8PaG9N.js";import{T as C,t as d}from"./index-DvE58iS3.js";/* empty css            */import"./button-Cv_e_Y_6.js";import"./index-Co_SPhEm.js";import"./index-C2H2px7a.js";import"./index-D1ahFS_l.js";import"./createLucideIcon-CEDR9mNJ.js";import"./app-logo-icon-BFSv2TpD.js";const S=[{title:"Pengumuman",href:"/announcements"},{title:"Buat Baru",href:""}];function K(){const[l,h]=o.useState(""),[i,b]=o.useState(""),[u,f]=o.useState(""),[r,a]=o.useState([{url:""}]),[m,c]=o.useState(!1),x=()=>{a([...r,{url:""}])},p=t=>{const s=[...r];s.splice(t,1),a(s)},g=(t,s)=>{const n=[...r];n[t].url=s,a(n)},j=t=>{t.preventDefault(),c(!0),N.post("/announcements",{title:l,short_content:i,content:u,attachments:r},{onSuccess:()=>{d.success("Pengumuman berhasil dibuat")},onError:s=>{Object.values(s).forEach(n=>{d.error(n)})},onFinish:()=>{c(!1)}})};return e.jsxs(k,{breadcrumbs:S,children:[e.jsx(y,{title:"Buat Pengumuman"}),e.jsx(C,{position:"top-right",richColors:!0}),e.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-lg",children:[e.jsx("h1",{className:"mb-6 text-xl font-bold",children:"Buat Pengumuman Baru"}),e.jsx("div",{className:"rounded-lg border p-4",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Judul"}),e.jsx("input",{type:"text",id:"title",value:l,onChange:t=>h(t.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"short_content",className:"block text-sm font-medium text-gray-700",children:"Ringkasan"}),e.jsx("textarea",{id:"short_content",value:i,onChange:t=>b(t.target.value),rows:3,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:["Konten ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(w,{value:u,onChange:f,placeholder:"Ketik konten pengumuman di sini..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Lampiran"}),r.map((t,s)=>e.jsxs("div",{className:"mb-2 flex items-center",children:[e.jsx("input",{type:"url",value:t.url,onChange:n=>g(s,n.target.value),placeholder:"https://example.com/file.pdf",className:"block w-full flex-1 rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),e.jsx("button",{type:"button",onClick:()=>p(s),className:"ml-2 inline-flex items-center rounded-md border border-transparent bg-red-100 px-3 py-2 text-sm leading-4 font-medium text-red-700 hover:bg-red-200 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:outline-none",children:"Hapus"})]},s)),e.jsx("button",{type:"button",onClick:x,className:"rounded-md bg-sky-500 px-3 py-2 text-sm font-medium text-white shadow-sm hover:cursor-pointer hover:bg-sky-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",children:"Tambah Lampiran"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(v,{href:"/announcements",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",children:"Batal"}),e.jsx("button",{type:"submit",disabled:m,className:"inline-flex items-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none disabled:opacity-50",children:m?"Menyimpan...":"Simpan"})]})]})})]})]})}export{K as default};
