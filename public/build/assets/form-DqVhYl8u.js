import{r as m,j as e,a as n}from"./app-CvAnSinX.js";import{F as x}from"./form-modal-DQ3KyQRy.js";import{t as y}from"./index-DnWO26yp.js";/* empty css            */import"./proxy-DE-vQ-Zk.js";import"./index-kQ2Xj6en.js";function N({isOpen:c,onClose:t,setting:r}){const[a,o]=m.useState({key:"",value:""});m.useEffect(()=>{o(r?{key:r.key,value:r.value}:{key:"",value:""})},[r]);const i=l=>{const{name:s,value:u}=l.target;o(d=>({...d,[s]:u}))},p=l=>{if(l.preventDefault(),!(r!=null&&r.id)){t();return}const s={...a,_method:"PUT"};n.post(`/school-settings/${r.id}`,s,{preserveScroll:!0,onSuccess:()=>{t(),n.reload()},onError:u=>{const d=Object.values(u).join(`
`);y.error(`Failed to update setting: ${d}`)}})};return e.jsxs(x,{isOpen:c,onClose:t,title:"Edit Setting",onSubmit:p,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"key",className:"block text-sm font-medium text-gray-700",children:"Key"}),e.jsx("input",{id:"key",name:"key",type:"text",value:a.key,readOnly:!0,className:"w-full rounded border bg-gray-100 p-2"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"value",className:"block text-sm font-medium text-gray-700",children:"Value"}),e.jsx("textarea",{id:"value",name:"value",value:a.value,onChange:i,className:"w-full rounded border p-2",required:!0,rows:5})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:t,className:"mr-2 rounded bg-gray-500 px-4 py-2 text-white hover:cursor-pointer",children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded bg-blue-600 px-4 py-2 text-white hover:cursor-pointer",children:"Update"})]})]})}export{N as default};
