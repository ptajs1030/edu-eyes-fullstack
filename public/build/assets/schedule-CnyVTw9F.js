import{r as l,j as f,U as I,v as Xe,q as Ye,$ as ve}from"./app-NvwZH2M5.js";import{A as ge}from"./app-layout-DUXkNTcM.js";import{t as he,T as ze}from"./index-BPHZml-b.js";import{s as Je,p as Qe,o as N,K as B,L as U,f as Ze,y as Y,n as Z,_ as we,a as Q,O as xe,u as q,t as et}from"./use-is-mounted-7lDr9tv9.js";/* empty css            */import"./app-logo-icon-B64xFU3I.js";import"./index-DIbXi48b.js";import"./index-DQxtM1xY.js";import"./index-CNOMy24s.js";function tt({value:e,onChange:t,placeholder:r="Search...",options:n}){const[a,s]=l.useState(""),[o,i]=l.useState(!1),d=l.useRef(null),b=n.filter(u=>u.name.toLowerCase().includes(a.toLowerCase())&&!e.includes(u.id)),g=n.filter(u=>e.includes(u.id));l.useEffect(()=>{const u=c=>{d.current&&!d.current.contains(c.target)&&i(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const v=u=>{t([...e,u.id]),s(""),i(!1)},h=u=>{t(e.filter(c=>c!==u))};return f.jsxs("div",{className:"relative",ref:d,children:[f.jsx("div",{className:"flex flex-wrap gap-1 mb-1",children:g.map(u=>f.jsxs("div",{className:"flex items-center rounded bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800",children:[f.jsx("span",{children:u.name}),f.jsx("button",{type:"button",onClick:()=>h(u.id),className:"ml-1 text-gray-500 hover:text-red-500 hover:cursor-pointer",children:"Ã—"})]},u.id))}),f.jsx("div",{className:"flex border border-gray-300 rounded",children:f.jsx("input",{type:"text",value:a,onChange:u=>s(u.target.value),placeholder:r,className:"flex-1 px-3 py-2 outline-none",onFocus:()=>i(!0)})}),o&&f.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md border max-h-60 overflow-auto",children:b.length===0?f.jsx("div",{className:"py-2 px-3 text-gray-500",children:"Tidak ditemukan"}):b.map(u=>f.jsx("div",{onClick:()=>v(u),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",children:u.name},u.id))})]})}const ye=typeof document<"u"?I.useLayoutEffect:()=>{};function rt(e){const t=l.useRef(null);return ye(()=>{t.current=e},[e]),l.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}const k=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},D=e=>e&&"window"in e&&e.window===e?e:k(e).defaultView||window;function nt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function at(e){return nt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let ot=!1;function le(){return ot}function Te(e,t){if(!le())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:at(r)?r=r.host:r=r.parentNode}return!1}const ne=(e=document)=>{var t;if(!le())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function Fe(e){return le()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function st(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function it(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Pe(e){let t=null;return()=>(t==null&&(t=e()),t)}const lt=Pe(function(){return it(/^Mac/i)}),ut=Pe(function(){return st(/Android/i)});function Le(){let e=l.useRef(new Map),t=l.useCallback((a,s,o,i)=>{let d=i!=null&&i.once?(...b)=>{e.current.delete(o),o(...b)}:o;e.current.set(o,{type:s,eventTarget:a,fn:d,options:i}),a.addEventListener(s,d,i)},[]),r=l.useCallback((a,s,o,i)=>{var d;let b=((d=e.current.get(o))===null||d===void 0?void 0:d.fn)||o;a.removeEventListener(s,b,i),e.current.delete(o)},[]),n=l.useCallback(()=>{e.current.forEach((a,s)=>{r(a.eventTarget,a.type,s,a.options)})},[r]);return l.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function ct(e){return e.mozInputSource===0&&e.isTrusted?!0:ut()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Se(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function dt(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ne(e){let t=l.useRef({isFocused:!1,observer:null});ye(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=rt(n=>{e==null||e(n)});return l.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,s=o=>{if(t.current.isFocused=!1,a.disabled){let i=Se(o);r(i)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var o;(o=t.current.observer)===null||o===void 0||o.disconnect();let i=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let ft=!1,z=null,ae=new Set,X=new Map,O=!1,oe=!1;const bt={Tab:!0,Escape:!0};function ue(e,t){for(let r of ae)r(e,t)}function pt(e){return!(e.metaKey||!lt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ee(e){O=!0,pt(e)&&(z="keyboard",ue("keyboard",e))}function G(e){z="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(O=!0,ue("pointer",e))}function Ae(e){ct(e)&&(O=!0,z="virtual")}function je(e){e.target===window||e.target===document||ft||!e.isTrusted||(!O&&!oe&&(z="virtual",ue("virtual",e)),O=!1,oe=!1)}function ke(){O=!1,oe=!0}function se(e){if(typeof window>"u"||typeof document>"u"||X.get(D(e)))return;const t=D(e),r=k(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){O=!0,n.apply(this,arguments)},r.addEventListener("keydown",ee,!0),r.addEventListener("keyup",ee,!0),r.addEventListener("click",Ae,!0),t.addEventListener("focus",je,!0),t.addEventListener("blur",ke,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",G,!0),r.addEventListener("pointermove",G,!0),r.addEventListener("pointerup",G,!0)),t.addEventListener("beforeunload",()=>{Ce(e)},{once:!0}),X.set(t,{focus:n})}const Ce=(e,t)=>{const r=D(e),n=k(e);t&&n.removeEventListener("DOMContentLoaded",t),X.has(r)&&(r.HTMLElement.prototype.focus=X.get(r).focus,n.removeEventListener("keydown",ee,!0),n.removeEventListener("keyup",ee,!0),n.removeEventListener("click",Ae,!0),r.removeEventListener("focus",je,!0),r.removeEventListener("blur",ke,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",G,!0),n.removeEventListener("pointermove",G,!0),n.removeEventListener("pointerup",G,!0)),X.delete(r))};function mt(e){const t=k(e);let r;return t.readyState!=="loading"?se(e):(r=()=>{se(e)},t.addEventListener("DOMContentLoaded",r)),()=>Ce(e,r)}typeof document<"u"&&mt();function Me(){return z!=="pointer"}const vt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function gt(e,t,r){let n=k(r==null?void 0:r.target);const a=typeof window<"u"?D(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?D(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?D(r==null?void 0:r.target).HTMLElement:HTMLElement,i=typeof window<"u"?D(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!vt.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof o&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof i&&!bt[r.key])}function ht(e,t,r){se(),l.useEffect(()=>{let n=(a,s)=>{gt(!!(r!=null&&r.isTextInput),a,s)&&e(Me())};return ae.add(n),()=>{ae.delete(n)}},t)}function xt(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const s=l.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),a&&a(!1),!0},[n,a]),o=Ne(s),i=l.useCallback(d=>{const b=k(d.target),g=b?ne(b):ne();d.target===d.currentTarget&&g===Fe(d.nativeEvent)&&(r&&r(d),a&&a(!0),o(d))},[a,r,o]);return{focusProps:{onFocus:!t&&(r||a||n)?i:void 0,onBlur:!t&&(n||a)?s:void 0}}}function $t(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,s=l.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:i}=Le(),d=l.useCallback(v=>{v.currentTarget.contains(v.target)&&s.current.isFocusWithin&&!v.currentTarget.contains(v.relatedTarget)&&(s.current.isFocusWithin=!1,i(),r&&r(v),a&&a(!1))},[r,a,s,i]),b=Ne(d),g=l.useCallback(v=>{if(!v.currentTarget.contains(v.target))return;const h=k(v.target),u=ne(h);if(!s.current.isFocusWithin&&u===Fe(v.nativeEvent)){n&&n(v),a&&a(!0),s.current.isFocusWithin=!0,b(v);let c=v.currentTarget;o(h,"focus",p=>{if(s.current.isFocusWithin&&!Te(c,p.target)){let m=new h.defaultView.FocusEvent("blur",{relatedTarget:p.target});dt(m,c);let E=Se(m);d(E)}},{capture:!0})}},[n,a,b,o,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:g,onBlur:d}}}let ie=!1,re=0;function Et(){ie=!0,setTimeout(()=>{ie=!1},50)}function $e(e){e.pointerType==="touch"&&Et()}function wt(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",$e),re++,()=>{re--,!(re>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",$e)}}function yt(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[s,o]=l.useState(!1),i=l.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;l.useEffect(wt,[]);let{addGlobalListener:d,removeAllGlobalListeners:b}=Le(),{hoverProps:g,triggerHoverEnd:v}=l.useMemo(()=>{let h=(p,m)=>{if(i.pointerType=m,a||m==="touch"||i.isHovered||!p.currentTarget.contains(p.target))return;i.isHovered=!0;let E=p.currentTarget;i.target=E,d(k(p.target),"pointerover",x=>{i.isHovered&&i.target&&!Te(i.target,x.target)&&u(x,x.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:E,pointerType:m}),r&&r(!0),o(!0)},u=(p,m)=>{let E=i.target;i.pointerType="",i.target=null,!(m==="touch"||!i.isHovered||!E)&&(i.isHovered=!1,b(),n&&n({type:"hoverend",target:E,pointerType:m}),r&&r(!1),o(!1))},c={};return typeof PointerEvent<"u"&&(c.onPointerEnter=p=>{ie&&p.pointerType==="mouse"||h(p,p.pointerType)},c.onPointerLeave=p=>{!a&&p.currentTarget.contains(p.target)&&u(p,p.pointerType)}),{hoverProps:c,triggerHoverEnd:u}},[t,r,n,a,i,d,b]);return l.useEffect(()=>{a&&v({currentTarget:i.target},i.pointerType)},[a]),{hoverProps:g,isHovered:s}}function Ie(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=l.useRef({isFocused:!1,isFocusVisible:t||Me()}),[s,o]=l.useState(!1),[i,d]=l.useState(()=>a.current.isFocused&&a.current.isFocusVisible),b=l.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),g=l.useCallback(u=>{a.current.isFocused=u,o(u),b()},[b]);ht(u=>{a.current.isFocusVisible=u,b()},[],{isTextInput:r});let{focusProps:v}=xt({isDisabled:n,onFocusChange:g}),{focusWithinProps:h}=$t({isDisabled:!n,onFocusWithinChange:g});return{isFocused:s,isFocusVisible:i,focusProps:n?h:v}}function De(e){var t,r;return Je.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function Tt(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Ft(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Pt({disabled:e=!1}={}){let t=l.useRef(null),[r,n]=l.useState(!1),a=Qe(),s=N(()=>{t.current=null,n(!1),a.dispose()}),o=N(i=>{if(a.dispose(),t.current===null){t.current=i.currentTarget,n(!0);{let d=De(i.currentTarget);a.addEventListener(d,"pointerup",s,!1),a.addEventListener(d,"pointermove",b=>{if(t.current){let g=Tt(b);n(Ft(g,t.current.getBoundingClientRect()))}},!1),a.addEventListener(d,"pointercancel",s,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let Lt="span";var Oe=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Oe||{});function St(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return U()({ourProps:s,theirProps:a,slot:{},defaultTag:Lt,name:"Hidden"})}let _e=B(St);var P=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(P||{});let Nt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),At=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var L=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(L||{}),V=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(V||{}),jt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(jt||{});function kt(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Nt)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Ct(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(At)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Mt=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Mt||{}),It=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(It||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Dt=["textarea","input"].join(",");function Ot(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Dt))!=null?r:!1}function R(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let o=a.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function _(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?R(e):e:t&64?Ct(e):kt(e);a.length>0&&o.length>1&&(o=o.filter(u=>!a.some(c=>c!=null&&"current"in c?(c==null?void 0:c.current)===u:c===u))),n=n??s.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),b=t&32?{preventScroll:!0}:{},g=0,v=o.length,h;do{if(g>=v||g+v<=0)return 0;let u=d+g;if(t&16)u=(u+v)%v;else{if(u<0)return 3;if(u>=v)return 1}h=o[u],h==null||h.focus(b),g+=i}while(h!==s.activeElement);return t&6&&Ot(h)&&h.select(),2}function _t(e,t){return l.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Ht({onFocus:e}){let[t,r]=l.useState(!0),n=Ze();return t?I.createElement(_e,{as:"button",type:"button",features:Oe.Focusable,onFocus:a=>{a.preventDefault();let s,o=50;function i(){if(o--<=0){s&&cancelAnimationFrame(s);return}if(e()){if(cancelAnimationFrame(s),!n.current)return;r(!1);return}s=requestAnimationFrame(i)}s=requestAnimationFrame(i)}}):null}const He=l.createContext(null);function Rt(){return{groups:new Map,get(e,t){var r;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let a=(r=n.get(t))!=null?r:0;n.set(t,a+1);let s=Array.from(n.keys()).indexOf(t);function o(){let i=n.get(t);i>1?n.set(t,i-1):n.delete(t)}return[s,o]}}}function Gt({children:e}){let t=l.useRef(Rt());return l.createElement(He.Provider,{value:t},e)}function Re(e){let t=l.useContext(He);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=l.useId(),[n,a]=t.current.get(e,r);return l.useEffect(()=>a,[]),n}var Wt=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Wt||{}),Bt=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Bt||{}),Ut=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Ut||{});let Kt={0(e,t){var r;let n=R(e.tabs,g=>g.current),a=R(e.panels,g=>g.current),s=n.filter(g=>{var v;return!((v=g.current)!=null&&v.hasAttribute("disabled"))}),o={...e,tabs:n,panels:a};if(t.index<0||t.index>n.length-1){let g=q(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>q(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return o;let v=q(g,{0:()=>n.indexOf(s[0]),1:()=>n.indexOf(s[s.length-1])});return{...o,selectedIndex:v===-1?e.selectedIndex:v}}let i=n.slice(0,t.index),d=[...n.slice(t.index),...i].find(g=>s.includes(g));if(!d)return o;let b=(r=n.indexOf(d))!=null?r:e.selectedIndex;return b===-1&&(b=e.selectedIndex),{...o,selectedIndex:b}},1(e,t){if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],n=R([...e.tabs,t.tab],s=>s.current),a=e.selectedIndex;return e.info.current.isControlled||(a=n.indexOf(r),a===-1&&(a=e.selectedIndex)),{...e,tabs:n,selectedIndex:a}},2(e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:R([...e.panels,t.panel],r=>r.current)}},4(e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},ce=l.createContext(null);ce.displayName="TabsDataContext";function W(e){let t=l.useContext(ce);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,W),r}return t}let de=l.createContext(null);de.displayName="TabsActionsContext";function fe(e){let t=l.useContext(de);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,fe),r}return t}function Vt(e,t){return q(t.type,Kt,e,t)}let qt="div";function Xt(e,t){let{defaultIndex:r=0,vertical:n=!1,manual:a=!1,onChange:s,selectedIndex:o=null,...i}=e;const d=n?"vertical":"horizontal",b=a?"manual":"auto";let g=o!==null,v=Q({isControlled:g}),h=Y(t),[u,c]=l.useReducer(Vt,{info:v,selectedIndex:o??r,tabs:[],panels:[]}),p=l.useMemo(()=>({selectedIndex:u.selectedIndex}),[u.selectedIndex]),m=Q(s||(()=>{})),E=Q(u.tabs),x=l.useMemo(()=>({orientation:d,activation:b,...u}),[d,b,u]),y=N(w=>(c({type:1,tab:w}),()=>c({type:2,tab:w}))),A=N(w=>(c({type:3,panel:w}),()=>c({type:4,panel:w}))),T=N(w=>{F.current!==w&&m.current(w),g||c({type:0,index:w})}),F=Q(g?e.selectedIndex:u.selectedIndex),C=l.useMemo(()=>({registerTab:y,registerPanel:A,change:T}),[]);Z(()=>{c({type:0,index:o??r})},[o]),Z(()=>{if(F.current===void 0||u.tabs.length<=0)return;let w=R(u.tabs,j=>j.current);w.some((j,M)=>u.tabs[M]!==j)&&T(w.indexOf(u.tabs[F.current]))});let te={ref:h},K=U();return I.createElement(Gt,null,I.createElement(de.Provider,{value:C},I.createElement(ce.Provider,{value:x},x.tabs.length<=0&&I.createElement(Ht,{onFocus:()=>{var w,j;for(let M of E.current)if(((w=M.current)==null?void 0:w.tabIndex)===0)return(j=M.current)==null||j.focus(),!0;return!1}}),K({ourProps:te,theirProps:i,slot:p,defaultTag:qt,name:"Tabs"}))))}let Yt="div";function zt(e,t){let{orientation:r,selectedIndex:n}=W("Tab.List"),a=Y(t),s=l.useMemo(()=>({selectedIndex:n}),[n]),o=e,i={ref:a,role:"tablist","aria-orientation":r};return U()({ourProps:i,theirProps:o,slot:s,defaultTag:Yt,name:"Tabs.List"})}let Jt="button";function Qt(e,t){var r,n;let a=l.useId(),{id:s=`headlessui-tabs-tab-${a}`,disabled:o=!1,autoFocus:i=!1,...d}=e,{orientation:b,activation:g,selectedIndex:v,tabs:h,panels:u}=W("Tab"),c=fe("Tab"),p=W("Tab"),[m,E]=l.useState(null),x=l.useRef(null),y=Y(x,t,E);Z(()=>c.registerTab(x),[c,x]);let A=Re("tabs"),T=h.indexOf(x);T===-1&&(T=A);let F=T===v,C=N($=>{var S;let J=$();if(J===V.Success&&g==="auto"){let Ve=(S=De(x))==null?void 0:S.activeElement,me=p.tabs.findIndex(qe=>qe.current===Ve);me!==-1&&c.change(me)}return J}),te=N($=>{let S=h.map(J=>J.current).filter(Boolean);if($.key===P.Space||$.key===P.Enter){$.preventDefault(),$.stopPropagation(),c.change(T);return}switch($.key){case P.Home:case P.PageUp:return $.preventDefault(),$.stopPropagation(),C(()=>_(S,L.First));case P.End:case P.PageDown:return $.preventDefault(),$.stopPropagation(),C(()=>_(S,L.Last))}if(C(()=>q(b,{vertical(){return $.key===P.ArrowUp?_(S,L.Previous|L.WrapAround):$.key===P.ArrowDown?_(S,L.Next|L.WrapAround):V.Error},horizontal(){return $.key===P.ArrowLeft?_(S,L.Previous|L.WrapAround):$.key===P.ArrowRight?_(S,L.Next|L.WrapAround):V.Error}}))===V.Success)return $.preventDefault()}),K=l.useRef(!1),w=N(()=>{var $;K.current||(K.current=!0,($=x.current)==null||$.focus({preventScroll:!0}),c.change(T),et(()=>{K.current=!1}))}),j=N($=>{$.preventDefault()}),{isFocusVisible:M,focusProps:Ge}=Ie({autoFocus:i}),{isHovered:be,hoverProps:We}=yt({isDisabled:o}),{pressed:pe,pressProps:Be}=Pt({disabled:o}),Ue=l.useMemo(()=>({selected:F,hover:be,active:pe,focus:M,autofocus:i,disabled:o}),[F,be,M,pe,i,o]),Ke=we({ref:y,onKeyDown:te,onMouseDown:j,onClick:w,id:s,role:"tab",type:_t(e,m),"aria-controls":(n=(r=u[T])==null?void 0:r.current)==null?void 0:n.id,"aria-selected":F,tabIndex:F?0:-1,disabled:o||void 0,autoFocus:i},Ge,We,Be);return U()({ourProps:Ke,theirProps:d,slot:Ue,defaultTag:Jt,name:"Tabs.Tab"})}let Zt="div";function er(e,t){let{selectedIndex:r}=W("Tab.Panels"),n=Y(t),a=l.useMemo(()=>({selectedIndex:r}),[r]),s=e,o={ref:n};return U()({ourProps:o,theirProps:s,slot:a,defaultTag:Zt,name:"Tabs.Panels"})}let tr="div",rr=xe.RenderStrategy|xe.Static;function nr(e,t){var r,n,a,s;let o=l.useId(),{id:i=`headlessui-tabs-panel-${o}`,tabIndex:d=0,...b}=e,{selectedIndex:g,tabs:v,panels:h}=W("Tab.Panel"),u=fe("Tab.Panel"),c=l.useRef(null),p=Y(c,t);Z(()=>u.registerPanel(c),[u,c]);let m=Re("panels"),E=h.indexOf(c);E===-1&&(E=m);let x=E===g,{isFocusVisible:y,focusProps:A}=Ie(),T=l.useMemo(()=>({selected:x,focus:y}),[x,y]),F=we({ref:p,id:i,role:"tabpanel","aria-labelledby":(n=(r=v[E])==null?void 0:r.current)==null?void 0:n.id,tabIndex:x?d:-1},A),C=U();return!x&&((a=b.unmount)==null||a)&&!((s=b.static)!=null&&s)?I.createElement(_e,{"aria-hidden":"true",...F}):C({ourProps:F,theirProps:b,slot:T,defaultTag:tr,features:rr,visible:x,name:"Tabs.Panel"})}let ar=B(Qt),or=B(Xt),sr=B(zt),ir=B(er),lr=B(nr),H=Object.assign(ar,{Group:or,List:sr,Panels:ir,Panel:lr});const Ee=(e,t)=>[{title:"Classrooms",href:"/classrooms"},{title:e,href:`/classrooms/${t}`},{title:"Schedule"}];function hr({classroom:e,days:t,shiftings:r,teachers:n,academicYear:a}){const{data:s,setData:o,post:i,processing:d}=Xe({days:t}),{flash:b}=Ye().props;l.useEffect(()=>{b!=null&&b.success&&he.success(b.success),b!=null&&b.error&&he.error(b.error)},[b]);const g=l.useMemo(()=>n.map(c=>({id:c.id,name:c.full_name})),[n]);l.useEffect(()=>{const c=t.map(p=>({...p,teachers:Array.isArray(p.teachers)?p.teachers.filter(m=>m!==null):[],selected_teachers:Array.isArray(p.selected_teachers)?p.selected_teachers.filter(m=>m.id!==null):[]}));o("days",c)},[]),console.log("cekkk"),console.log({days:t,teachers:n});const v=(c,p)=>{const m=[...s.days];m[c]={...m[c],shifting_id:p,teachers:p?m[c].teachers:[],selected_teachers:p?m[c].selected_teachers:[]},o("days",m)},h=(c,p)=>{const m=[...s.days],E=p.filter(y=>y!==null).map(y=>Number(y)),x=E.map(y=>{const A=n.find(T=>T.id===y);return{id:y,name:A?A.full_name:"Unknown"}});m[c]={...m[c],teachers:E,selected_teachers:x},o("days",m)},u=c=>{c.preventDefault(),i(route("classrooms.schedule.save",e.id))};return a.attendance_mode!=="per-shift"?f.jsxs(ge,{breadcrumbs:Ee(e.name,e.id),children:[f.jsx(ve,{title:`Classroom Schedule - ${e.name}`}),f.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-lg",children:[f.jsxs("h2",{className:"mb-6 text-xl font-bold",children:["Classroom Schedule: ",e.name]}),f.jsxs("div",{className:"rounded-lg bg-gray-50 py-10 text-center",children:[f.jsx("div",{className:"mb-4 text-5xl",children:"ðŸ“š"}),f.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Fitur Tidak Tersedia"}),f.jsx("p",{className:"mx-auto max-w-md text-gray-600",children:"Sistem saat ini menggunakan mode presensi per subject. Fitur shifting hanya tersedia saat mode presensi diatur ke per-shift."})]})]})]}):f.jsxs(ge,{breadcrumbs:Ee(e.name,e.id),children:[f.jsx(ve,{title:`Classroom Schedule - ${e.name}`}),f.jsx(ze,{position:"top-right",richColors:!0}),f.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-lg",children:[f.jsxs("div",{className:"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[f.jsxs("h1",{className:"text-2xl font-bold",children:["Classroom Schedule: ",e.name]}),f.jsx("button",{type:"submit",form:"schedule-form",disabled:d,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:cursor-pointer hover:bg-blue-700 disabled:opacity-50",children:d?"Saving...":"Save Schedule"})]}),f.jsxs(H.Group,{children:[f.jsx(H.List,{className:"mb-6 flex rounded-lg bg-blue-100 p-1",children:["By Shifting","By Subject"].map(c=>f.jsx(H,{className:({selected:p})=>`flex-1 rounded-lg py-3 text-center text-sm font-medium transition-all hover:cursor-pointer ${p?"bg-white text-blue-700 shadow":"text-gray-600 hover:bg-blue-200"}`,children:c},c))}),f.jsxs(H.Panels,{children:[f.jsx(H.Panel,{children:f.jsx("form",{id:"schedule-form",onSubmit:u,className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.days.map((c,p)=>f.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:[f.jsx("h3",{className:"mb-3 text-lg font-semibold text-gray-800",children:c.day_name}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Shifting:"}),f.jsxs("select",{value:c.shifting_id||"",onChange:m=>v(p,m.target.value?parseInt(m.target.value):null),className:"w-full rounded-md border border-gray-300 bg-gray-50 p-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:[f.jsx("option",{value:"",children:"-- No Schedule --"}),r.map(m=>f.jsxs("option",{value:m.id,children:[m.name," (",m.start_hour," - ",m.end_hour,")"]},m.id))]})]}),c.shifting_id&&f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Teacher responsible:"}),f.jsx(tt,{value:c.teachers,onChange:m=>h(p,m),placeholder:"Search teachers...",options:g})]})]},c.day))})}),f.jsx(H.Panel,{children:f.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-8 text-center",children:f.jsxs("div",{className:"mx-auto max-w-md",children:[f.jsx("div",{className:"mb-4 text-5xl",children:"ðŸ“š"}),f.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Fitur Segera Hadir"}),f.jsx("p",{className:"text-gray-600",children:"Fitur jadwal per subject sedang dalam pengembangan. Silakan gunakan mode shifting untuk saat ini."})]})})})]})]})]})]})}export{hr as default};
