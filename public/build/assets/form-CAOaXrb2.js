import{r as u,j as t,m as o}from"./app--8tztu9u.js";import{F as h}from"./form-modal-BrNj-cLe.js";import{t as c}from"./index-CAEQJ3gJ.js";/* empty css            */import"./proxy-BUtDjAM8.js";import"./index-COSppDxn.js";function N({isOpen:l,onClose:s,role:e}){const[d,m]=u.useState({name:""});u.useEffect(()=>{m(e?{id:e.id,name:e.name}:{name:""})},[e]);const p=(r,n)=>{m(a=>({...a,[r]:n}))},x=r=>{r.preventDefault();const n={...d,_method:e!=null&&e.id?"PUT":"POST"};e!=null&&e.id?o.post(`/roles/${e.id}`,n,{preserveScroll:!0,onSuccess:()=>{s(),o.reload()},onError:a=>{const i=Object.values(a).join(`
`);c.error(`Failed to update role: ${i}`)}}):o.post("/roles",n,{preserveScroll:!0,onSuccess:()=>{s(),o.reload()},onError:a=>{const i=Object.values(a).join(`
`);c.error(`Failed to add new role: ${i}`)}})};return t.jsxs(h,{isOpen:l,onClose:s,title:e?"Edit Role":"Add New Role",onSubmit:x,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Role Name"}),t.jsx("input",{id:"name",name:"name",type:"text",value:d.name,onChange:r=>p("name",r.target.value),className:"w-full rounded border p-2",required:!0})]}),t.jsxs("div",{className:"flex justify-end",children:[t.jsx("button",{type:"button",onClick:s,className:"mr-2 rounded bg-gray-500 px-4 py-2 text-white hover:cursor-pointer",children:"Cancel"}),t.jsx("button",{type:"submit",className:"rounded bg-blue-600 px-4 py-2 text-white hover:cursor-pointer",children:e?"Update":"Create"})]})]})}export{N as default};
