import{r as u,j as t,a as o}from"./app-Cn2t8gJw.js";import{F as h}from"./form-modal-CN0FeIhh.js";import{t as c}from"./index-BYKIGkqn.js";import"./proxy-BkAw2byc.js";import"./index-DYvuR1c0.js";function y({isOpen:l,onClose:s,role:e}){const[m,d]=u.useState({name:""});u.useEffect(()=>{d(e?{id:e.id,name:e.name}:{name:""})},[e]);const p=(a,n)=>{d(r=>({...r,[a]:n}))},x=a=>{a.preventDefault();const n={...m,_method:e!=null&&e.id?"PUT":"POST"};e!=null&&e.id?o.post(`/roles/${e.id}`,n,{preserveScroll:!0,onSuccess:()=>{s(),o.reload()},onError:r=>{const i=Object.values(r).join(`
`);c.error(`Failed to update role: ${i}`)}}):o.post("/roles",n,{preserveScroll:!0,onSuccess:()=>{s(),o.reload()},onError:r=>{const i=Object.values(r).join(`
`);c.error(`Failed to add new role: ${i}`)}})};return t.jsxs(h,{isOpen:l,onClose:s,title:e?"Edit Role":"Add New Role",onSubmit:x,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Role Name"}),t.jsx("input",{id:"name",name:"name",type:"text",maxLength:70,value:m.name,onChange:a=>p("name",a.target.value),className:"w-full rounded border p-2",required:!0})]}),t.jsxs("div",{className:"flex justify-end",children:[t.jsx("button",{type:"button",onClick:s,className:"mr-2 rounded bg-gray-500 px-4 py-2 text-white hover:cursor-pointer",children:"Cancel"}),t.jsx("button",{type:"submit",className:"rounded bg-blue-600 px-4 py-2 text-white hover:cursor-pointer",children:e?"Update":"Create"})]})]})}export{y as default};
