import{u as d,r as o,j as t,H as k,a as p}from"./app-CuqKbMN6.js";import{P as S}from"./pagination-BVaGRcAn.js";import{T as N}from"./table-CE3JGyH2.js";import{A as C}from"./app-layout-B0Qa0-6x.js";import{t as m,T as v}from"./index-DxTzc5om.js";import w from"./form-B1cSnLgC.js";/* empty css            */import"./createLucideIcon-CtOFYahP.js";import"./button-CAPeMKQc.js";import"./index-D1MjfKX7.js";import"./index-Dhs7DcFB.js";import"./index-J9pqjwX0.js";import"./app-logo-icon-CUNpaR3U.js";import"./form-modal-on-qWHus.js";import"./proxy-D8XOPwuh.js";const _=[{title:"Pengaturan Sekolah",href:"/school-settings"}];function B(){const{settings:l,filters:r}=d().props,{flash:s}=d().props;o.useEffect(()=>{s!=null&&s.success&&m.success(s.success),s!=null&&s.error&&m.error(s.error)},[s]);const[u,i]=o.useState(!1),[x,h]=o.useState(null),[n,c]=o.useState([]),f=e=>{h(e),i(!0)},g=e=>{c(a=>a.includes(e)?a.filter(y=>y!==e):[...a,e])},b=e=>{p.get(route("school-settings.index"),{sort:e,direction:r.direction==="asc"?"desc":"asc"},{preserveState:!0})},j=[{key:"title",label:"Pengaturan",sortable:!0},{key:"value",label:"Nilai",sortable:!1},{key:"actions",label:"Aksi",sortable:!1}];return t.jsxs(C,{breadcrumbs:_,children:[t.jsx(k,{title:"Pengaturan"}),t.jsx(v,{position:"top-right",richColors:!0}),t.jsxs("div",{className:"flex flex-col gap-6 rounded-xl bg-white p-6 text-black shadow-lg",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",placeholder:"Cari pengaturan...",defaultValue:r.search||"",onChange:e=>p.get(route("school-settings.index"),{search:e.target.value},{preserveState:!0}),className:"w-64 rounded border px-3 py-1 text-sm"})})}),t.jsx(N,{headers:j,data:l.data,sortColumn:r.sort??"",sortDirection:r.direction==="asc"||r.direction==="desc"?r.direction:"asc",onSort:b,onSelectAll:e=>c(e?l.data.map(a=>a.id):[]),selectedIds:n,rowRender:e=>t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"w-[10px] p-3 text-sm",children:t.jsx("input",{type:"checkbox",checked:n.includes(e.id),onChange:()=>g(e.id)})}),t.jsx("td",{className:"p-3 text-sm",children:e.title}),t.jsxs("td",{className:"p-3 text-sm",children:[e.value,(e.key==="late_tolerance"||e.key==="early_tolerance")&&" Menit",(e.key==="payment_reminder_days"||e.key==="task_reminder_days")&&" Hari"]}),t.jsx("td",{className:"flex gap-2 p-3",children:t.jsx("button",{onClick:()=>f(e),className:"rounded bg-blue-500 px-3 py-1 text-sm font-medium text-white hover:cursor-pointer",children:"Edit"})})]},e.id)}),t.jsx(S,{links:l.links}),t.jsx(w,{isOpen:u,onClose:()=>i(!1),setting:x})]})]})}export{B as default};
