import{r as d,j as e,a as m}from"./app-BMCcA4gU.js";import{F as p}from"./form-modal-CBBL7C-l.js";import{t as u}from"./index-CWoY2duQ.js";/* empty css            */import"./proxy-BtmeL_ZT.js";import"./index-BIXoL2bP.js";function _({isOpen:h,onClose:l,subject:r}){const[t,o]=d.useState({name:"",curriculum_year:"",is_archived:!1});d.useEffect(()=>{o(r?{name:r.name,curriculum_year:r.curriculum_year,is_archived:r.is_archived}:{name:"",curriculum_year:"",is_archived:!1})},[r]);const n=i=>{const{name:a,value:s}=i.target;o(c=>({...c,[a]:s}))},x=i=>{const{name:a,checked:s}=i.target;o(c=>({...c,[a]:s}))},f=i=>{i.preventDefault(),r!=null&&r.id?m.put(`/subjects/${r.id}`,{...t},{preserveScroll:!0,onSuccess:()=>{l(),m.reload()},onError:a=>{const s=Object.values(a).join(`
`);u.error(`Failed to update subject: ${s}`)}}):m.post("/subjects",{...t},{preserveScroll:!0,onSuccess:()=>{l(),m.reload()},onError:a=>{const s=Object.values(a).join(`
`);u.error(`Failed to add new subject: ${s}`)}})};return e.jsxs(p,{isOpen:h,onClose:l,title:r?"Edit Mata Pelajaran":"Tambah Mata Pelajaran",onSubmit:f,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama"}),e.jsx("input",{id:"name",name:"name",type:"text",value:t.name,onChange:n,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm",required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"curriculum_year",className:"block text-sm font-medium text-gray-700",children:"Nama Kurikulum"}),e.jsx("input",{id:"curriculum_year",name:"curriculum_year",type:"text",value:t.curriculum_year,onChange:n,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm",required:!0})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-5 items-center",children:e.jsx("input",{type:"checkbox",id:"is_archived",name:"is_archived",checked:t.is_archived,onChange:x,className:"h-4 w-4 rounded border-gray-300 text-blue-600 transition-all focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 focus:ring-offset-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Archive this subject"}),e.jsx("span",{className:"mt-0.5 block text-xs text-gray-500",children:"Archived subjects will be hidden from default views but remain accessible"})]})]})}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:l,className:"mr-2 rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:cursor-pointer hover:bg-gray-50",children:"Batal"}),e.jsx("button",{type:"submit",className:"rounded rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:cursor-pointer hover:bg-blue-700",children:r?"Update":"Simpan"})]})]})}export{_ as default};
