import{r as u,j as e}from"./app-CyshOikY.js";import{F as m}from"./form-modal-4FT4Be0w.js";/* empty css            */import"./proxy-oNfkOipB.js";function p({attendance:r,onClose:l,onSubmit:n}){var o;const[s,t]=u.useState({student_id:r.student.id,status:r.status,clock_in_hour:r.clock_in_hour||"",clock_out_hour:r.clock_out_hour||"",minutes_of_late:r.minutes_of_late||"",note:r.note||""}),i=a=>{a.preventDefault();const d={...s,minutes_of_late:s.minutes_of_late?parseInt(s.minutes_of_late):null,clock_in_hour:s.clock_in_hour||null,clock_out_hour:s.clock_out_hour||null};n(d)};return e.jsxs(m,{isOpen:!0,onClose:l,title:`Edit Kehadiran - ${r.student.full_name}`,onSubmit:i,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Informasi Siswa"}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Nama:"}),e.jsx("p",{className:"font-medium",children:r.student.full_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"NIS:"}),e.jsx("p",{className:"font-medium",children:r.student.nis||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Kelas:"}),e.jsx("p",{className:"font-medium",children:((o=r.student.classroom)==null?void 0:o.name)||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tanggal Presensi:"}),e.jsx("p",{className:"font-medium",children:new Date(r.submit_date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status*"}),e.jsxs("select",{value:s.status,onChange:a=>t({...s,status:a.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"not_set",children:"Pilih Status"}),e.jsx("option",{value:"present",children:"Hadir"}),e.jsx("option",{value:"present_in_tolerance",children:"Hadir (Toleransi)"}),e.jsx("option",{value:"late",children:"Terlambat"}),e.jsx("option",{value:"alpha",children:"Alpha"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jam Masuk"}),e.jsx("input",{type:"time",value:s.clock_in_hour,onChange:a=>t({...s,clock_in_hour:a.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jam Keluar"}),e.jsx("input",{type:"time",value:s.clock_out_hour,onChange:a=>t({...s,clock_out_hour:a.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Menit Keterlambatan"}),e.jsx("input",{type:"number",min:"0",value:s.minutes_of_late,onChange:a=>t({...s,minutes_of_late:a.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catatan"}),e.jsx("textarea",{value:s.note,onChange:a=>t({...s,note:a.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3,placeholder:"Tambahkan catatan jika diperlukan..."})]})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:l,className:"mr-2 rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:cursor-pointer hover:bg-gray-50",children:"Batal"}),e.jsx("button",{type:"submit",className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:cursor-pointer hover:bg-blue-700",children:"Simpan"})]})]})}export{p as default};
