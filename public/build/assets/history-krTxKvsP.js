import{j as s,H as b,L as p,a as i}from"./app-vEdtwNW7.js";import{T as u}from"./table-pQBScBXv.js";import{A as g}from"./app-layout-Cnx2acud.js";/* empty css            */import"./createLucideIcon-CU4ceqF8.js";import"./button-B4a2y5O3.js";import"./index-CQyoX_jb.js";import"./index-fjkiHRgk.js";import"./index-CjDXsFZL.js";import"./app-logo-icon-z94BuwF7.js";const j=()=>[{title:"Kelas",href:"/classrooms"},{title:"Riwayat",href:""}];function S({classroom:l,academicYears:n,selectedAcademicYear:t,students:d,studentCount:m,filters:a}){const c=e=>{i.get(route("classrooms.history",l.id),{academic_year:e.target.value,sort:a.sort,direction:a.direction})},x=e=>{i.get(route("classrooms.history",l.id),{academic_year:t==null?void 0:t.id,sort:e,direction:a.direction==="asc"?"desc":"asc"})};return s.jsxs(g,{breadcrumbs:j(),children:[s.jsx(b,{title:`Riwayat - ${l.name}`}),s.jsxs("div",{className:"flex flex-col gap-6 rounded-xl bg-white p-6 text-black shadow-lg",children:[s.jsxs("div",{className:"rounded-lg border p-4",children:[s.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Riwayat Kelas"}),s.jsxs("div",{className:"grid w-2/5 grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-sm font-medium text-gray-500",children:"Nama Kelas"}),s.jsx("p",{className:"font-semibold",children:l.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-sm font-medium text-gray-500",children:"Tingkat"}),s.jsx("p",{className:"font-semibold",children:l.level})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-sm font-medium text-gray-500",children:"Jumlah Siswa"}),s.jsxs("p",{className:"font-semibold",children:[m," siswa"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-500",children:"Tahun Akademik"}),s.jsx("select",{value:(t==null?void 0:t.id)||"",onChange:c,className:"w-full rounded border border-gray-300 bg-gray-50 p-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:n.map(e=>s.jsxs("option",{value:e.id,children:[e.title," (",e.start_year,")"]},e.id))})]})]})]}),s.jsxs("div",{className:"rounded-lg border p-4",children:[s.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Siswa"}),s.jsx(u,{headers:[{key:"no",label:"No.",sortable:!1},{key:"full_name",label:"Nama",sortable:!1},{key:"age",label:"Usia",sortable:!1},{key:"parent",label:"Nama Orang Tua",sortable:!1},{key:"phone",label:"Telepon Orang Tua",sortable:!1},{key:"actions",label:"Aksi",sortable:!1}],data:d,sortColumn:a.sort??"",sortDirection:a.direction==="asc"||a.direction==="desc"?a.direction:"asc",onSort:x,emptyMessage:"No students found for selected academic year",rowRender:(e,h)=>{var r,o;return s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsxs("td",{className:"p-3 text-sm",children:[h+1,"."]}),s.jsx("td",{className:"p-3 text-sm",children:e.full_name}),s.jsx("td",{className:"p-3 text-sm",children:e.age??"-"}),s.jsx("td",{className:"p-3 text-sm",children:((r=e.parent)==null?void 0:r.full_name)||"-"}),s.jsx("td",{className:"p-3 text-sm",children:((o=e.parent)==null?void 0:o.phone)||"-"}),s.jsx("td",{className:"p-3",children:s.jsx(p,{href:route("students.attendance",e.id),className:"rounded bg-blue-500 px-3 py-1 text-sm font-medium text-white hover:cursor-pointer",children:"Detail Siswa"})})]},e.id)}})]})]})]})}export{S as default};
